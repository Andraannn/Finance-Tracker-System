<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finance Tracker</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <div class="container">
        <h1>Finance Tracker</h1>
        <h2>Current Balance: â‚±{{ current_balance }}</h2>

        <div class="transaction-container">
            <div class="transaction-form">
                <h3>Make a Transaction</h3>
                <form action="/transaction" method="post">
                    <label for="transaction_type">Transaction Type:</label>
                    <select id="transaction_type" name="transaction_type" required>
                        <option value="add">Add</option>
                        <option value="subtract">Deduct</option>
                    </select><br />
                    Description: <input type="text" name="description" required /><br />
                    Amount: <input type="number" step="0.01" name="amount" required /><br />
                    <input type="submit" value="Submit" />
                </form>
            </div>
        </div>

        <h3>Transactions</h3>
        <form action="/delete_transactions" method="post">
            <table>
                <tr style="background-color: #a6a6a6">
                    <th>DATE</th>
                    <th>DESCRIPTION</th>
                    <th>AMOUNT</th>
                    <th>DELETE</th>
                </tr>
                {% for transaction in transactions[:5] %}
                <!-- Limiting to the first 5 transactions -->
                <tr class="transaction-row">
                  <!-- Assuming the transaction ID is at index 0 -->
                    <td>{{ transaction[3] }}</td>
                    <!-- Assuming the date is at index 3 -->
                    <td>{{ transaction[1] }}</td>
                    <!-- Assuming the description is at index 1 -->
                    <td>{{ transaction[2] }}</td>
                    <!-- Assuming the amount is at index 2 -->
                    <td><input type="checkbox" name="transaction_id" value="{{ transaction[0] }}"></td>
                </tr>
                {% endfor %}
            </table>
            <br>
            <input class="delete-button" type="submit" value="Delete Selected Transactions">
        </form>

        <!-- Pagination -->
        <div class="pagination">
            {% if page > 1 %}
            <a href="{{ url_for('index', page=1) }}">&laquo;</a>
            <a href="{{ url_for('index', page=page-1) }}">&lsaquo;</a>
            {% endif %}

            <span>{{ page }}</span>

            {% if page < total_pages %}
            <a href="{{ url_for('index', page=page+1) }}">&rsaquo;</a>
            <a href="{{ url_for('index', page=total_pages) }}">&raquo;</a>
            {% endif %}
        </div>
    </div>
</body>
</html>
